function updateHelpfulCount(e,t,o){let n=e.querySelector(".faq__helpful-count").innerHTML;n=n.replace("(",""),n=n.replace(")",""),null!=t&&n<t&&(e.querySelector(".faq__helpful-count").innerHTML="("+t+")"),null!=t&&n>t&&setLocalStorageItem(o,n,2592e6)}if(document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".faq__helpful").forEach(e=>{let t="faq-id"+e.dataset.id;0!=e.dataset.entityId&&null!=e.dataset.entityId&&0!=e.dataset.entityType&&null!=e.dataset.entityType&&(t=t+"_"+e.dataset.entityId+"_"+e.dataset.entityType);var o=getLocalStorageItem(t);updateHelpfulCount(e,o,t),null!=o&&(e.querySelector("i").classList.remove("icon-like"),e.querySelector("i").classList.add("icon-like-filled"),e.classList.add("f-bold"))})})),document.querySelectorAll(".faq__helpful").forEach(e=>{e.addEventListener("click",()=>{let t="faq-id"+e.dataset.id;if(0!=e.dataset.entityId&&null!=e.dataset.entityId&&0!=e.dataset.entityType&&null!=e.dataset.entityType&&(t=t+"_"+e.dataset.entityId+"_"+e.dataset.entityType),null==getLocalStorageItem(t)){var o=new FormData;o.append("id",e.dataset.id),o.append("type",e.dataset.type),0!=e.dataset.entityId&&null!=e.dataset.entityId&&0!=e.dataset.entityType&&null!=e.dataset.entityType&&(o.append("entityId",e.dataset.entityId),o.append("entityType",e.dataset.entityType)),gd.common.addLoader(e.querySelector(".faq__helpful-count")),fetch("/faq/helpful",{method:"post",body:o}).then(e=>e.json()).then(o=>{e.querySelector(".faq__helpful-count").innerHTML=`(${o})`,e.setAttribute("data-clicked","1"),e.querySelector("i").classList.remove("icon-like"),e.querySelector("i").classList.add("icon-like-filled"),e.classList.add("f-bold"),gd.common.removeLoader(),setLocalStorageItem(t,o,2592e6)})}})}),gd.common.oneTimeListener(document.querySelector('[data-popup-close="faq-thankyou"]'),"click",()=>{gd.common.closePopup(document.querySelector('[data-popup-modal="faq-thankyou"]'))},"close-faq-thankyou"),null!=document.querySelector("#submit-question-form")){var dataset=document.querySelector("#submit-question-form").dataset,questionInput=document.querySelector("#question-input"),btnSubmitQuestion=document.querySelector("#btnSubmitQuestion");fetch("/faq/question-list?categorySlug="+dataset.category+"&brand="+dataset.brand+"&model="+dataset.model+"&isPopular=1",{method:"get"}).then(e=>e.json()).then(e=>{new autoComplete({selector:"#question-input",minChars:0,menuClass:"js-ask-question",source:function(t,o){t=t.toLowerCase();var n=e,a=[];for(i=0;i<n.length;i++)~n[i].name.toLowerCase().indexOf(t)&&a.push(n[i]);o(a)},onSelect:function(e,t,o){var n=o.getAttribute("data-val").split("~"),a=o.getAttribute("data-position");gd.common.pushDataLayers(dataLayer[0].page_type,"qna","click_suggestion",gd.config.widgetTracking,"qna",a),window.location.href=n[1]},renderItem:function(e,t){return'<div class="autocomplete-suggestion" data-val="'+e.value+'" data-name="'+e.name+'" data-position="'+e.position+'">'+e.name+"</div>"}})}),questionInput.addEventListener("keyup",()=>{""!==questionInput.value?btnSubmitQuestion.style.display="block":btnSubmitQuestion.style.display="none"}),btnSubmitQuestion.addEventListener("click",()=>{gd.loginPopup({onOpen:()=>{},onComplete:e=>{gd.common.addScreenLoader(),fetch("/faq/save-question?businessUnit="+gd.config.businessUnit,{method:"post",body:new FormData(document.querySelector("#submit-question-form"))}).then(e=>e.json()).then(e=>{gd.common.removeScreenLoader(),!0===e.status&&(document.querySelector("#submit-question-form").reset(),btnSubmitQuestion.style.display="none",gd.common.openPopup(document.querySelector('[data-popup-modal="faq-thankyou"]')))})}})})}if(document.querySelectorAll(".write__your-answer").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.questionId;e.classList.add("hide"),document.querySelector('.write__reply-form[data-question-id="'+t+'"]').classList.remove("hide")})}),document.querySelectorAll(".write__reply-form .submit-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentNode;description=t.querySelector(".faq-answer__form #description").value,description?gd.loginPopup({onOpen:()=>{},onComplete:e=>{gd.common.removeError(t.querySelectorAll(".help-block")),gd.common.addScreenLoader(),fetch(t.getAttribute("action"),{method:"post",body:new FormData(t)}).then(e=>e.json()).then(e=>{gd.common.removeScreenLoader(),void 0!==e.errors?Object.entries(e.errors).forEach(e=>{gd.common.addError(t.querySelector('.help-block[data-error="'+e[0]+'"]'),e[1][0])}):1==e.status&&(t.reset(),gd.common.openPopup(document.querySelector('[data-popup-modal="faq-thankyou"]')))})}}):(error=t.querySelector(".faq-answer__form #description").dataset.error,gd.common.addError(t.querySelector(".help-block"),error))})}),window.location.hash&&"#askQuestion"==window.location.hash&&setTimeout((function(){var e=document.getElementById("newsLetterSection").offsetTop;window.scrollTo({top:e+250,behavior:"smooth"}),document.getElementById("question-input").focus()}),500),null!=document.getElementById("showLatestQuestions")&&document.getElementsByClassName("userQuestionBlock").length){var showQuestionBtn=document.querySelector("#showLatestQuestions");let e=document.querySelectorAll("div.userQuestionBlock");showQuestionBtn.addEventListener("click",()=>{e.forEach((function(e){e.classList.remove("hide")})),showQuestionBtn.style.display="none"})}